# 🏆 BQRankTool 使用說明書

這是一個專為產生與編輯遊戲排行榜 JSON 設定檔所開發的網頁工具。工具採資料庫匯入、視覺化編輯與智慧規則驗證，確保產出的設定檔符合伺服器運作規範。

---

## 🚀 快速上手步驟

### 1. 準備工作與匯入道具表
*   **開啟工具**：直接使用瀏覽器開啟 `index.html`。
*   **匯入道具資料 (必要)**：點擊左側側欄的 **「📥 匯入道具表 (.xlsx)」**，選取包含 `ItemInfoList` 工作表的 Excel 檔案。
    *   *系統將自動讀取：C 欄 (道具名稱) 與 E 欄 (ITEM_ID)。*
    *   匯入成功後，側欄會顯示目前的道具總筆數。

### 2. 管理活動輪次 (Rounds)
*   **新增活動**：點擊 **「+ 新增活動輪次」**。
*   **複製活動**：若新活動與現有活動相似，點擊右上方 **「👯 複製目前活動」** 可完整複製所有參數（包含獎勵）。
*   **切換/刪除**：在左側清單點擊活動名稱進行切換，或點擊紅色 **「x」** 刪除該輪次。

---

## 📝 區塊設定指南

工具介面分為 6 個核心區塊，請依序填寫：

### 1. 排行榜判斷邏輯 (Procedure & Params)
*   **程序 ID**：下拉選單內建常用的 BQ 邏輯（如魚種擊殺、虎機倍數等）。
*   **智慧參數**：選取程序 ID 後，下方會動態出現對應的參數輸入框（如：遊戲 ID、最低押注段、等級限制等）。
*   **參數預覽**：系統會自動將輸入內容組合成 `bq_extra_params` 陣列供檢查。

### 2. 分類與關聯設定
*   **系列與關聯**：填寫 Series ID 及 Previous ID（前一檔關聯）。
*   **類別**：選擇 EVENT, SLOT, SHOOTING 或 GRANDMASTER。

### 3. 時間與排程設定
*   **時間格式**：使用日期選擇器設定。系統匯出時會自動轉為伺服器要求的 `YYYYMMDDHHMM` 數字格式。
*   **更新頻率**：設定排行榜背景數據更新的間隔秒數。

### 4. 顯示控制與數值格式
*   **布林值規範**：顯示廣宣、秀機台等選項，匯出後會自動轉為 `1` (是) 或 `0` (否)。
*   **數值設定**：設定榜單人數、優先序及分數顯示類型（int/coin/multiplier）。

### 5. 訊息設定
*   設定排行榜在遊戲內顯示的標題、詳細說明以及上榜條件文字。

### 6. 獎勵設定 (Prizes)
*   **表單編輯 (GUI)**：
    *   點擊 **「道具 ID」** 欄位會立即彈出下拉選單。
    *   支援關鍵字搜尋（ID 或名稱），點選後自動帶入並顯示藍色道具標籤。
    *   可自由新增/刪除名次區間及道具品項。
*   **JSON 貼上**：若已有獎勵 JSON 片段，可切換至此模式直接貼上，系統會自動修復多餘逗號。

---

## 💾 檔案匯出

*   **檔名設定**：在左下角輸入欲匯出的檔案名稱（預設為 `round_infos`）。
*   **執行匯出**：點擊 **「💾 匯出正式 JSON 陣列」**。
    *   *輸出格式：標準純陣列 `[...]`，每個物件固定包含完整的 24 個核心欄位。*

---

## ⚠️ 核心規範提醒 (自動校驗)
1.  **布林值轉數字**：所有勾選項目在輸出時均為數字型態 `1/0`。
2.  **時間格式**：所有時間欄位在輸出時均為數字型態（非字串）。
3.  **24 個固定欄位**：每個活動物件無論是否填寫，皆會輸出 24 個欄位以符合伺服器解析需求。

---
*維護人員：ACD_RD2*
